---
title: "7:03:34 PM - October 3, 2025"
date: 2025-10-03T06:03:34.793Z
timestamp: 1759471414793
---

## Project Notes

**Proper Solution to Ghost Video Bug: Force Dispose Controllers**

Rabble was right - the camera screen should dispose video widgets, not just pause them. The issue is IndexedStack keeps all tab widgets alive (AutomaticKeepAliveClientMixin), so VideoFeedItem widgets never dispose when camera screen is pushed on top.

**Two-Part Fix**:
1. Added `disposeAllControllers()` method to VideoOverlayManager that calls `ref.invalidate(individualVideoControllerProvider)` - this forces ALL video controllers to dispose, even those kept alive by IndexedStack
2. Camera screen now calls `disposeAllControllers()` instead of just `pauseAllVideos()`

**Why This Works**:
- `ref.invalidate()` on a provider family disposes ALL instances of that provider
- This completely cleans up video resources, not just pauses playback
- When returning from camera, VideoFeedItems will recreate controllers as needed
- More thorough than just clearing active video state

**Files Changed**:
- `lib/providers/video_overlay_manager_provider.dart:69-86` - added disposeAllControllers()
- `lib/screens/pure/universal_camera_screen_pure.dart:42-54` - use disposeAllControllers()

This is the proper architectural solution - dispose resources when navigating away, not just pause.
