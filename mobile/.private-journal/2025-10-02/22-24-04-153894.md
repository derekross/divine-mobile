---
title: "10:24:04 PM - October 2, 2025"
date: 2025-10-02T09:24:04.153Z
timestamp: 1759397044153
---

## Project Notes

## OpenVine: Kind 32222 → 34236 Migration Complete

Just completed full migration from kind 32222 to NIP-71 kind 34236 for video events.

**Root Cause**: Services were querying for deprecated kind 32222 while VideoEvent model already correctly supported NIP-71 kinds.

**Verification**:
- All 7 migration tests pass ✅
- flutter analyze shows no new issues ✅
- VideoNetworkService now queries kind 34236 ✅
- All providers updated ✅
- Addressable refs use 34236:pubkey:dtag format ✅

**Critical Files Updated**:
- lib/services/video_network_service.dart (line 81, 165, 217)
- lib/services/social_service.dart (addressable ID refs)
- lib/providers/*.dart (all video providers)
- test/services/video_kind_migration_test.dart (NEW - comprehensive test)

**What to watch**: Relay logs should now show requests for kind 34236 instead of 32222. The embedded relay handles both for backward compat but queries should use the correct kind.

**Lesson**: Always write TDD tests when doing cross-codebase migrations. The test file serves as documentation and catches regressions.
